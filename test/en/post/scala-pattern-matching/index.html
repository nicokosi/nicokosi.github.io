<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Let&#39;s play with pattern matching in Scala // Nicokosi&#39;s blog
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="Pattern matching is a powerful technique for filtering and testing variables. This article aims at illustrating pattern matching in Scala using a simple example.">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.17" />

  <meta property="og:title" content="Let&#39;s play with pattern matching in Scala" />
<meta property="og:description" content="Pattern matching is a powerful technique for filtering and testing variables. This article aims at illustrating pattern matching in Scala using a simple example." />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://nicokosi.github.io/test/en/post/scala-pattern-matching/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://nicokosi.github.io/test//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Nicokosi&#39;s blog" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  

  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	

    
    

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://nicokosi.github.io/test/">Home</a></li>
        
      </ul>
    </nav>

    

  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
		    <div id="toc" class="pure-u-1 pure-u-md-1-4">
				<small class="toc-label">Contents</small>
		   	 	<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#step-1-let-s-create-a-simple-class">Step #1: let&rsquo;s create a simple class</a></li>
<li><a href="#step-2-let-s-create-a-case-class">Step #2: let&rsquo;s create a case class</a></li>
<li><a href="#bonus-step-use-an-enumeration">&ldquo;Bonus&rdquo; step: use an enumeration</a></li>
<li><a href="#last-step-let-s-use-pattern-matching">Last step: let&rsquo;s use pattern matching!</a>
<ul>
<li><a href="#first-example">First example</a></li>
<li><a href="#second-example">Second example</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
		    </div>
		    
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="/test/en/post/scala-pattern-matching/">Let&#39;s play with pattern matching in Scala</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>14</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2016</span>
            	</span>
            	
            
            	
            

			
			

			

			

            

<p>Pattern matching is a powerful technique for filtering and testing variables. This article aims at illustrating pattern matching in Scala using a simple example.
Let&rsquo;s say we want to return the color (red or black) of a playing card.</p>

<p>Notes: The code below &ldquo;shows&rdquo; the console output using comments (ex: <code>&quot;foo&quot; // foo</code>). I have used a <a href="https://confluence.jetbrains.com/display/IntelliJIDEA/Working+with+Scala+Worksheet">IntelliJ IDEA worksheet</a> but the standard Scala console can also be used (REPL FTW!)</p>

<p><br/></p>

<h2 id="step-1-let-s-create-a-simple-class">Step #1: let&rsquo;s create a simple class</h2>

<p>Let&rsquo;s create a immutable class for the &ldquo;club&rdquo; suite:</p>

<pre><code class="language-scala">class Club {
  val symbol = &quot;‚ô£&quot;
  val label = &quot;club&quot;
}

val club: Club = new Club()
club.symbol // ‚ô£
</code></pre>

<p>So far, so good. Instances can be compared by identity (reference) but not by value because we did not override the <code>equals</code> method:</p>

<pre><code class="language-scala">club.equals(club) // true
club == new Club // false
club.eq(new Club) // false
club.equals(new Club) // false
</code></pre>

<p><code>hashCode</code> and <code>toString</code> are also default ones:</p>

<pre><code class="language-scala">club // Club@1ac88f64
club.hashCode() // 1976061787
new Club().hashCode() // 1751431390
</code></pre>

<p><br/></p>

<h2 id="step-2-let-s-create-a-case-class">Step #2: let&rsquo;s create a case class</h2>

<p>A <code>case class</code> has two benefits:</p>

<ol>
<li>auto-implement <code>equals</code>, <code>hashCode</code> and <code>toString</code> methods.</li>
<li>enhance pattern matching capability via two methods: a &ldquo;constructor&rdquo; method, <code>apply</code>, and a &ldquo;de-constructor&rdquo; method, <code>unapply</code>.</li>
</ol>

<pre><code class="language-scala">case class CardSuite(symbol: String, label: String)
</code></pre>

<p><code>apply</code> method is a kind of free constructor. By the way, we don&rsquo;t need to use the <code>new</code> keyword:</p>

<pre><code class="language-scala">CardSuite(&quot;‚ô£&quot;, &quot;club&quot;) // CardSuite(‚ô£,club)
</code></pre>

<p><code>equals</code>, <code>hashCode</code> and <code>toString</code> methods are also implemented for free:</p>

<pre><code class="language-scala">CardSuite(&quot;‚ô£&quot;, &quot;club&quot;).symbol
CardSuite(&quot;‚ô£&quot;, &quot;club&quot;) == CardSuite(&quot;‚ô£&quot;, &quot;club&quot;) // true
CardSuite(&quot;‚ô£&quot;, &quot;club&quot;).equals(CardSuite(&quot;‚ô£&quot;, &quot;club&quot;)) // true
CardSuite(&quot;‚ô£&quot;, &quot;club&quot;).eq(CardSuite(&quot;‚ô£&quot;, &quot;club&quot;)) // false
CardSuite(&quot;‚ô£&quot;, &quot;club&quot;).hashCode() // 1302714609
CardSuite(&quot;‚ô£&quot;, &quot;club&quot;).hashCode() // 1302714609
</code></pre>

<p><br/></p>

<h2 id="bonus-step-use-an-enumeration">&ldquo;Bonus&rdquo; step: use an enumeration</h2>

<p>Since there are four suites in French playing cards, we can create an enumeration. This is not directly related to our pattern matching example, but let&rsquo;s do it, for fun and profit. ;-)</p>

<pre><code class="language-scala">object CardSuites {
  val CLUB = CardSuite(&quot;‚ô£&quot;, &quot;club&quot;)
  val DIAMOND = CardSuite(&quot;‚ô¶&quot;, &quot;diamond&quot;)
  val HEART = CardSuite(&quot;‚ô•&quot;, &quot;heart&quot;)
  val SPADE = CardSuite(&quot;‚ô†&quot;, &quot;spade&quot;)
  def values() = List(DIAMOND, HEART, SPADE, CLUB)
}
CardSuites.CLUB != CardSuites.DIAMOND // true
CardSuites.values // List(CardSuite(‚ô¶,diamond), CardSuite(‚ô•,heart), CardSuite(‚ô†,spade), CardSuite(‚ô£,club))
</code></pre>

<p><br/></p>

<h2 id="last-step-let-s-use-pattern-matching">Last step: let&rsquo;s use pattern matching!</h2>

<h3 id="first-example">First example</h3>

<p>Here is a first pattern matching example, used in a function that returns the color of a suite card:</p>

<pre><code class="language-scala">def justColor(cardSuite: CardSuite): String = cardSuite match {
  case CardSuites.CLUB | CardSuites.SPADE =&gt; &quot;black&quot;
  case CardSuites.DIAMOND | CardSuites.HEART =&gt; &quot;red&quot;
  case _ =&gt; &quot;none&quot;
}

justColor(CardSuites.SPADE) // black
</code></pre>

<p>This example demonstrates:</p>

<ul>
<li>the <code>|</code> notation (<em>disjunction</em>) that can be used to group several cases;</li>
<li>the <code>_</code> notation (<em>wildcard</em>) for &ldquo;other cases&rdquo;.</li>
</ul>

<h3 id="second-example">Second example</h3>

<p>Here is a second example to demonstrate field filtering, also known as &ldquo;de-structuring&rdquo;:</p>

<pre><code class="language-scala">def describeColor(cardSuite: CardSuite): String = cardSuite match {
  case CardSuite(_, label) =&gt; s&quot;$label is ${justColor(cardSuite)}&quot;
}

describeColor(CardSuites.SPADE) // spade is black
</code></pre>

<p>We only keep the suite label using the <code>unapply</code> method of our case class.</p>

<p>That&rsquo;s all folks! ü§ì</p>

<p>PS: Thanks to J√©r√¥me Prudent for the Scala tips and for the review. J√©r√¥me contributes to the <a href="http://www.arolla.fr/blog">Arolla blog</a> (<a href="http://www.arolla.fr/blog/author/jerome-prudent/">direct link to his posts</a>).</p>

	
			

			
				<div class="tags-list">
					<span class="dark-red">Tags</span><span class="decorative-marker">//</span>
					
	                <a class="post-tag post-tag-scala" href="https://nicokosi.github.io/test//tags/scala">scala</a>,
	                
	                <a class="post-tag post-tag-pattern-matching" href="https://nicokosi.github.io/test//tags/pattern-matching">pattern-matching</a>,
	                
	                <a class="post-tag post-tag-console" href="https://nicokosi.github.io/test//tags/console">console</a>,
	                
	                <a class="post-tag post-tag-repl" href="https://nicokosi.github.io/test//tags/repl">repl</a>,
	                
				</div>
			

			
				<div class="paging">
					<span class="paging-label">More Reading</span>
					
					<div class="paging-newer">
						<span class="dark-red">Newer</span><span class="decorative-marker">//</span>
						<a class="paging-link" href="/test/en/post/haskell-pattern-matching/">Let&#39;s play with pattern matching in Haskell</a>
		            </div>
		            

					
	            </div>
            
          </section>
          
          	
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2016. All rights reserved.</p>
</div>
    </div>
  </div>
	

	

  
</body>
</html>
